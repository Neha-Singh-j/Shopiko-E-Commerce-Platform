<nav class="navbar fixed-top navbar-expand-lg navbar-dark" style="background: linear-gradient(to right, #6a11cb, #fc4a1a); box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
  <div class="container">
    <!-- Brand -->
    <a class="navbar-brand d-flex align-items-center text-white fw-bold me-4" href="/products" style="font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif; text-shadow: 0 2px 4px rgba(0,0,0,0.2);">
      <i class="fas fa-bag-shopping me-2" style="font-size: 1.7rem; color: #ffd700;"></i>Shopiko
    </a>

    <!-- Toggler -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar links -->
    <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
      <!-- Left links -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0 align-items-center">
        <li class="nav-item">
          <a class="nav-link text-white px-3 fw-semibold" href="/" style="font-family: 'Arial', sans-serif;">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white px-3 fw-semibold" href="/products" style="font-family: 'Arial', sans-serif;">Products</a>
        </li>
        <% if(currentUser && currentUser.role === 'seller'){ %>
        <li class="nav-item">
          <a class="nav-link text-white px-3 fw-semibold" href="/products/new" style="font-family: 'Arial', sans-serif;">New Product</a>
        </li>
        <% } %>
      </ul>

      <!-- Right links -->
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
        <% if(!currentUser){ %>
          <li class="nav-item">
            <a href="/login" class="nav-link text-white px-3 fw-semibold" style="font-family: 'Arial', sans-serif;">Login</a>
          </li>
          <li class="nav-item">
            <a href="/register" class="nav-link px-3 fw-semibold" style="color: #ffd700; font-family: 'Arial', sans-serif;">Register</a>
          </li>
        <% } else { %>
          <li class="nav-item">
            <span class="nav-link text-white px-3 text-capitalize fw-semibold" style="font-family: 'Arial', sans-serif; white-space: nowrap;">ðŸ‘‹ Hello <%=currentUser.username%></span>
          </li>

          <li class="nav-item position-relative">
            <a href="/wishlist" class="nav-link text-white px-3">
              <i class="fas fa-heart fs-5" style="color: #ff4d4d;"></i>
            </a>
          </li>

          <li class="nav-item position-relative">
            <a href="/user/cart" class="nav-link text-white px-3">
              <i class="fas fa-cart-shopping fs-5" style="color: #ffd700;"></i>
              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill" style="background-color: #ffd700; color: #2c0b5e; font-family: 'Arial', sans-serif;">
                <%=currentUser.cart.length%>
              </span>
            </a>
          </li>

          <li class="nav-item">
            <a href="/logout" class="nav-link px-3 fw-semibold" style="color: #ffd700; font-family: 'Arial', sans-serif;">Logout</a>
          </li>

          <li class="nav-item dropdown ms-3">
            <button class="btn btn-outline-light dropdown-toggle fw-semibold" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false" style="font-family: 'Arial', sans-serif; padding: 0.35rem 0.75rem;">
              Language
            </button>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="languageDropdown">
              <li><a class="dropdown-item" href="?lang=en">English</a></li>
              <li><a class="dropdown-item" href="?lang=es">EspaÃ±ol</a></li>
              <li><a class="dropdown-item" href="?lang=fr">FranÃ§ais</a></li>
            </ul>
          </li>
        <% } %>
      </ul>
    </div>
  </div>
</nav>
